#include <stdio.h>

#define MAXN 11
const char table[] = {0,1,2,3,3,4,5,6,4,5,6,7,7,8,9,10,5,6,7,8,8,9,10,11,9,10,11,12,12,13,14,15,6,7,8,9,9,10,11,12,10,11,12,13,13,14,15,16,11,12,13,14,14,15,16,17,15,16,17,18,18,19,20,21,7,8,9,10,10,11,12,13,11,12,13,14,14,15,16,17,12,13,14,15,15,16,17,18,16,17,18,19,19,20,21,22,13,14,15,16,16,17,18,19,17,18,19,20,20,21,22,23,18,19,20,21,21,22,23,24,22,23,24,25,25,26,27,28,8,9,10,11,11,12,13,14,12,13,14,15,15,16,17,18,13,14,15,16,16,17,18,19,17,18,19,20,20,21,22,23,14,15,16,17,17,18,19,20,18,19,20,21,21,22,23,24,19,20,21,22,22,23,24,25,23,24,25,26,26,27,28,29,15,16,17,18,18,19,20,21,19,20,21,22,22,23,24,25,20,21,22,23,23,24,25,26,24,25,26,27,27,28,29,30,21,22,23,24,24,25,26,27,25,26,27,28,28,29,30,31,26,27,28,29,29,30,31,32,30,31,32,33,33,34,35,36,9,10,11,12,12,13,14,15,13,14,15,16,16,17,18,19,14,15,16,17,17,18,19,20,18,19,20,21,21,22,23,24,15,16,17,18,18,19,20,21,19,20,21,22,22,23,24,25,20,21,22,23,23,24,25,26,24,25,26,27,27,28,29,30,16,17,18,19,19,20,21,22,20,21,22,23,23,24,25,26,21,22,23,24,24,25,26,27,25,26,27,28,28,29,30,31,22,23,24,25,25,26,27,28,26,27,28,29,29,30,31,32,27,28,29,30,30,31,32,33,31,32,33,34,34,35,36,37,17,18,19,20,20,21,22,23,21,22,23,24,24,25,26,27,22,23,24,25,25,26,27,28,26,27,28,29,29,30,31,32,23,24,25,26,26,27,28,29,27,28,29,30,30,31,32,33,28,29,30,31,31,32,33,34,32,33,34,35,35,36,37,38,24,25,26,27,27,28,29,30,28,29,30,31,31,32,33,34,29,30,31,32,32,33,34,35,33,34,35,36,36,37,38,39,30,31,32,33,33,34,35,36,34,35,36,37,37,38,39,40,35,36,37,38,38,39,40,41,39,40,41,42,42,43,44,45,10,11,12,13,13,14,15,16,14,15,16,17,17,18,19,20,15,16,17,18,18,19,20,21,19,20,21,22,22,23,24,25,16,17,18,19,19,20,21,22,20,21,22,23,23,24,25,26,21,22,23,24,24,25,26,27,25,26,27,28,28,29,30,31,17,18,19,20,20,21,22,23,21,22,23,24,24,25,26,27,22,23,24,25,25,26,27,28,26,27,28,29,29,30,31,32,23,24,25,26,26,27,28,29,27,28,29,30,30,31,32,33,28,29,30,31,31,32,33,34,32,33,34,35,35,36,37,38,18,19,20,21,21,22,23,24,22,23,24,25,25,26,27,28,23,24,25,26,26,27,28,29,27,28,29,30,30,31,32,33,24,25,26,27,27,28,29,30,28,29,30,31,31,32,33,34,29,30,31,32,32,33,34,35,33,34,35,36,36,37,38,39,25,26,27,28,28,29,30,31,29,30,31,32,32,33,34,35,30,31,32,33,33,34,35,36,34,35,36,37,37,38,39,40,31,32,33,34,34,35,36,37,35,36,37,38,38,39,40,41,36,37,38,39,39,40,41,42,40,41,42,43,43,44,45,46,19,20,21,22,22,23,24,25,23,24,25,26,26,27,28,29,24,25,26,27,27,28,29,30,28,29,30,31,31,32,33,34,25,26,27,28,28,29,30,31,29,30,31,32,32,33,34,35,30,31,32,33,33,34,35,36,34,35,36,37,37,38,39,40,26,27,28,29,29,30,31,32,30,31,32,33,33,34,35,36,31,32,33,34,34,35,36,37,35,36,37,38,38,39,40,41,32,33,34,35,35,36,37,38,36,37,38,39,39,40,41,42,37,38,39,40,40,41,42,43,41,42,43,44,44,45,46,47,27,28,29,30,30,31,32,33,31,32,33,34,34,35,36,37,32,33,34,35,35,36,37,38,36,37,38,39,39,40,41,42,33,34,35,36,36,37,38,39,37,38,39,40,40,41,42,43,38,39,40,41,41,42,43,44,42,43,44,45,45,46,47,48,34,35,36,37,37,38,39,40,38,39,40,41,41,42,43,44,39,40,41,42,42,43,44,45,43,44,45,46,46,47,48,49,40,41,42,43,43,44,45,46,44,45,46,47,47,48,49,50,45,46,47,48,48,49,50,51,49,50,51,52,52,53,54,55};

char Adj[MAXN][MAXN];
int L[MAXN][3];
int N, M;
int bound;

void myAssign(int index, int begin, int dist){
	if (index > N){
		if (dist < bound)
			bound = dist;
		return;
	}
	if (dist >= bound)
		return;

	for (int i=begin; i!=-1; i=L[i][2])
		L[i][1] <<= 1;
	int cur = begin, pre = -1;
	for (cur=begin, pre=-1; cur!=-1; pre=cur, cur=L[cur][2]){
		int tmp = dist, rest = 0, rest_f = 0;
		for (int i=0; i<N; i++){
			if (L[i][0] && Adj[cur][i])
				tmp += index - L[i][0];
			else if (!L[i][0] && i != cur){
				rest += table[L[i][1]];
				if (Adj[cur][i]) rest_f++;
			}
		}
		if (rest + (((rest_f+1)*rest_f)>>1) + tmp >= bound)
			continue;

		L[cur][0] = index;
		for (int i=begin; i!=-1; i=L[i][2])
			if (Adj[cur][i])
				L[i][1] += 1;
		if (cur == begin){
			myAssign( index+1, L[cur][2], tmp);
		}
		else{
			L[pre][2] = L[cur][2];
			myAssign( index+1, begin, tmp);
			L[pre][2] = cur;
		}
		L[cur][0] = 0;
		for (int i=begin; i!=-1; i=L[i][2])
			if (Adj[cur][i])
				L[i][1] -= 1;
	}
	for (int i=begin; i!=-1; i=L[i][2])
		L[i][1] >>= 1;

	return;
}

int main(){
	scanf("%d %d", &N, &M);
	for (int i=0; i<M; i++){
		int a, b;
		scanf("%d %d", &a, &b);
		Adj[a][b] = Adj[b][a] = 1;
	}
	for (int i=0; i<N-1; i++)
		L[i][2] = i+1;
	L[N-1][2] = -1;

	bound = N * M;
	myAssign(1, 0, 0);
	printf("%d\n", bound);
	return 0;
}
